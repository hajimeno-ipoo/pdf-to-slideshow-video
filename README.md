<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# PDF to Video（PDF→スライドショー動画）

PDFを読み込んで、スライドとして編集して、動画（スライドショー）を書き出すWebアプリだよ。

## できること（ざっくり）

- PDFを読み込んでスライド化
- スライドの表示範囲（トリミング）を調整
- テキスト/画像/装飾を重ねる（レイヤー順の入れ替えも可）
- 背景（キャンバス全体）にもオブジェクトを置ける
- 音声：アップロード / 録音 / AI読み上げ（Gemini）
- BGM、フェードなどの設定
- プロジェクト管理：保存/読み込み/削除/サムネ表示
- 動画を書き出し（＋サムネ画像の書き出し）

## 使い方（基本の流れ）

1. 起動したら、PDFをアップロード（または「プロジェクト管理」から既存を開く）
2. 編集画面でスライドを選んで、右のパネルで調整
   - トリミング（表示範囲）
   - オブジェクト追加（テキスト/画像/装飾）
   - レイヤー順（上/下）や、表示/ロック
   - 音声（アップロード/録音/AI読み上げ）
3. 「全画面プレビュー」で再生チェック
4. 「書き出し」で動画を作る

## ローカルで動かす

**前提:** Node.js（`npm` が使える状態）

1. Install dependencies:
   `npm install`
2. Run the app: `npm run dev`
3. 表示されたURLをブラウザで開く（だいたい `http://localhost:5173`）

## プロジェクト管理（保存/読み込み/削除）

- 起動画面/編集画面の「プロジェクト管理」から開けるよ
- できること
  - 読み込み: 一覧で選んで「読み込み」 or サムネをダブルクリック
  - 削除: 選択してから「削除」
  - JSONを読み込む: 以前エクスポートした `.json` を読み込んで続き編集

※ プロジェクトの中身によっては（画像や音声が入ってると）JSONが大きくなるよ。

## Gemini APIキー（AI機能）について

### まず結論
- このアプリのAI機能（AIで原稿生成 / AI読み上げ / AI画像生成）は、ヘッダーのAPIステータスが `connected` の時だけ有効になるよ。
  - `checking`: 接続チェック中（まだAIはロック）
  - `connected`: 接続OK（AIが使える）
  - `error`: 接続NG（AIはロック）

### 設定方法
1. 画面右上の「APIキー」を開く
2. Gemini APIキーを入力
3. 「保存先」を選ぶ（下に説明あり）
4. 「保存して使う」
5. ヘッダーの表示が `connected` になったらOK

### 保存先（3種類）
APIキーはブラウザ内で保存されるよ（このアプリのサーバーには送らないよ）。

- メモリのみ
  - ページ更新（リロード）やタブを閉じると消える
  - その場だけ試したい時向け
- このタブだけ
  - 同じタブ内のページ更新では残る
  - タブを閉じると消える
- この端末に保存
  - この端末のブラウザに残る
  - 次にアプリを開いても残る

※ 保存先を変えて保存し直した時は、「選んだ保存先だけ」に保存するようにしてるよ（他は消す）。

### パスフレーズで暗号化（共有端末におすすめ）
- ONにすると、`このタブだけ` / `この端末に保存` の保存内容を暗号化できるよ
- パスフレーズを忘れると復号できないから、その時は「キーを削除」して入れ直しになるよ

### 重要（ここはちゃんと読んで）
- **ファイル（PDF）はこのアプリのサーバーには送らない**よ。基本の編集や書き出しはブラウザ内でやるよ。
- ただし、**AI機能を使う時は**、必要な情報（例：スライド画像、入力した文章/指示）は **Google（Gemini API）に送られる**よ。
  - 「機密情報をAIに送らない」運用にしたいなら、AI機能は使わないのが安全だよ。

## 書き出し（動画/サムネ）

- 書き出しは編集画面の「書き出し」からやるよ
- サムネ画像の書き出しもできるよ（1枚 or 最大20枚をZIP）

## よくあるつまずき（困ったらここ）

- AIが押せない（ロックされてる）
  - ヘッダーが `connected` になってるか確認してね
  - `error` の時は、APIキーが間違ってる/ネットが無い/利用制限などの可能性があるよ
- AIキーを保存したのに、次回開いたら使えない
  - 「メモリのみ」だと消えるよ（保存先を `この端末に保存` にすると残る）
  - 暗号化ONにしてたら、復号のためのパスフレーズが必要だよ

## 開発用コマンド

- テスト: `npm test`
- ビルド: `npm run build`
